<#function hasChildShownInCompleteness entry>
	<#if entry.children?has_content>
		<#list entry.children as child >
			<#if child.shownInCompleteness>
				<#return true>
			</#if>
		</#list>
	</#if>
	<#return false>
</#function>

<#if config?exists>
	<p class="lead">#i18n{module.workflow.editrecord.task_edit_record_form.label_list_entries}</p>
		<#assign index = 0>
		<#list list_entries as entry>
			<#if entry.shownInCompleteness>
				<label class="checkbox">
					<input type="checkbox" name="ids_entry_${config.idTask}" value="${entry.idEntry}" />
					${entry.title}
				</label>
			<#elseif entry.entryType.group>
				<#if hasChildShownInCompleteness( entry )>
					<fieldset>
						<legend>${entry.title}</legend>
						<#list entry.children as child >
							<#if child.shownInCompleteness>
								<label class="checkbox">
									<input type="checkbox" name="ids_entry_${config.idTask}" value="${child.idEntry}" />
									${child.title}
								</label>	
							</#if>
						</#list>
					</fieldset>
				</#if>
			</#if>
		</#list>
		<hr>
		<label for="message_${config.idTask}">#i18n{module.workflow.editrecord.task_edit_record_form.label_message}</label>
		<textarea rows="6" class="input-xxlarge" name="message_${config.idTask}"><#if config.defaultMessage??>${config.defaultMessage}</#if></textarea>
	</p>
</#if>
